<!-- src/app/valuation-inspection/inspection-view.component.html -->
<ng-container *ngIf="!loading && !error && inspection">

      <app-workflow-buttons
        [id]="valuationId"
        [vehicleNumber]="vehicleNumber"
        [applicantContact]="applicantContact"
        [valuationType]="valuationType ?? ''">
    </app-workflow-buttons>
    
  <!-- Inspection Info -->
  <fieldset class="nested-group">
    <legend>Inspection Info</legend>
    <div class="grid">
      <mat-form-field *ngIf="showField('inspectionDate')" appearance="fill">
        <mat-label>Date of Inspection</mat-label>
        <input matInput [value]="inspection.dateOfInspection | date:'yyyy-MM-dd HH:mm:ss'" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('inspectionLocation')" appearance="fill">
        <mat-label>Inspection Location</mat-label>
        <input matInput [value]="inspection.inspectionLocation" readonly />
      </mat-form-field>

      <!-- Front Photo Display -->
<ng-container *ngIf="showField('frontPhoto')">
  <div class="photo-container">
    <label>Front Photo</label>
    <img *ngIf="inspection.photos?.length" [src]="inspection.photos[0]" alt="Front Photo" />
  </div>
</ng-container>
    </div>
  </fieldset>

  <!-- Basic Vehicle Checks -->
  <fieldset class="nested-group">
    <legend>Basic Vehicle Checks</legend>
    <div class="grid">
      <mat-form-field *ngIf="showField('odometer')" appearance="fill">
        <mat-label>Odometer (km)</mat-label>
        <input matInput [value]="inspection.odometer" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('engineCondition')" appearance="fill">
        <mat-label>Engine Condition</mat-label>
        <input matInput [value]="inspection.engineCondition" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('chassisCondition')" appearance="fill">
        <mat-label>Chassis Condition</mat-label>
        <input matInput [value]="inspection.chassisCondition" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('steeringSystem')" appearance="fill">
        <mat-label>Steering System</mat-label>
        <input matInput [value]="inspection.steeringSystem" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('brakeSystem')" appearance="fill">
        <mat-label>Brake System</mat-label>
        <input matInput [value]="inspection.brakeSystem" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('suspensionSystem')" appearance="fill">
        <mat-label>Suspension System</mat-label>
        <input matInput [value]="inspection.suspensionSystem" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('fuelSystem')" appearance="fill">
        <mat-label>Fuel System</mat-label>
        <input matInput [value]="inspection.fuelSystem" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('tyreCondition')" appearance="fill">
        <mat-label>Tyre Condition</mat-label>
        <input matInput [value]="inspection.tyreCondition" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('bodyCondition')" appearance="fill">
        <mat-label>Body Condition</mat-label>
        <input matInput [value]="inspection.bodyCondition" readonly />
      </mat-form-field>
    </div>
  </fieldset>

  <!-- External Visual Checks -->
  <fieldset class="nested-group">
    <legend>External Visual Checks</legend>
    <div class="grid">
      <mat-form-field *ngIf="showField('exteriorCondition')" appearance="fill">
        <mat-label>Exterior Condition</mat-label>
        <input matInput [value]="inspection.exteriorCondition" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('interiorCondition')" appearance="fill">
        <mat-label>Interior Condition</mat-label>
        <input matInput [value]="inspection.interiorCondition" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('electricalSystem')" appearance="fill">
        <mat-label>Electrical System</mat-label>
        <input matInput [value]="inspection.electricalSystem" readonly />
      </mat-form-field>
    </div>
  </fieldset>

  <!-- Powertrain & Transmission -->
  <fieldset class="nested-group">
    <legend>Powertrain & Transmission</legend>
    <div class="grid">
      <mat-form-field *ngIf="showField('gearboxAssembly')" appearance="fill">
        <mat-label>Gearbox Assembly</mat-label>
        <input matInput [value]="inspection.gearboxAssembly" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('clutchSystem')" appearance="fill">
        <mat-label>Clutch System</mat-label>
        <input matInput [value]="inspection.clutchSystem" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('driveShafts')" appearance="fill">
        <mat-label>Drive Shafts</mat-label>
        <input matInput [value]="inspection.driveShafts" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('propellerShaft')" appearance="fill">
        <mat-label>Propeller Shaft</mat-label>
        <input matInput [value]="inspection.propellerShaft" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('differentialAssy')" appearance="fill">
        <mat-label>Differential Assembly</mat-label>
        <input matInput [value]="inspection.differentialAssy" readonly />
      </mat-form-field>
    </div>
  </fieldset>

  <!-- Cooling & Hoses -->
  <fieldset class="nested-group">
    <legend>Cooling & Hoses</legend>
    <div class="grid">
      <mat-form-field *ngIf="showField('radiator')" appearance="fill">
        <mat-label>Radiator</mat-label>
        <input matInput [value]="inspection.radiator" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('interCooler')" appearance="fill">
        <mat-label>Inter Cooler</mat-label>
        <input matInput [value]="inspection.interCooler" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('allHosePipes')" appearance="fill">
        <mat-label>All Hose & Pipes</mat-label>
        <input matInput [value]="inspection.allHosePipes" readonly />
      </mat-form-field>
    </div>
  </fieldset>

  <!-- Body & Accessories -->
  <fieldset class="nested-group">
    <legend>Body & Accessories</legend>
    <div class="grid">
      <mat-form-field *ngIf="showField('paintWork')" appearance="fill">
        <mat-label>Paint Work</mat-label>
        <input matInput [value]="inspection.paintWork" readonly />
      </mat-form-field>

      <mat-form-field *ngIf="showField('allGlasses')" appearance="fill">
        <mat-label>All Glasses</mat-label>
        <input matInput [value]="inspection.allGlasses" readonly />
      </mat-form-field>

      <!-- add any additional accessory fields similarly -->
    </div>
  </fieldset>

  <!-- Photos -->
  <fieldset class="nested-group">
    <div class="actions">
      <button mat-raised-button color="primary" (click)="onClick()">
        View / Upload Images
      </button>
    </div>
  </fieldset>

  <!-- Actions -->
  <fieldset class="nested-group">
    <div class="actions">
      <button mat-raised-button color="primary" (click)="onEdit()">
        Edit
      </button>
      <button *ngIf="canDeleteInspection()" mat-raised-button color="warn" (click)="onDelete()">
        Delete
      </button>
      <button mat-raised-button color="warn" (click)="onBack()">
        Back
      </button>
    </div>
  </fieldset>
</ng-container>
