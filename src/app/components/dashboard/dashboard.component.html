<!-- src/app/dashboard/dashboard.component.html -->
<mat-accordion *ngIf="!loading && !error" class="dashboard-grid">
  <mat-expansion-panel *ngFor="let v of claims">
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{ v.vehicleNumber }} — {{ v.assignedTo }} - {{ v.assignedToPhoneNumber }} - {{ v.location }}
      </mat-panel-title>
      <mat-panel-description>
        {{ v.createdAt | date:'medium' }} - 
        {{ v.status }} - {{ v.redFlag ? 'Red Flag' : 'Normal' }} 
      </mat-panel-description>
    </mat-expansion-panel-header>

    <!-- workflow buttons -->
    <div class="workflow-buttons">
      <button
        mat-button
        *ngFor="let step of steps; let i = index"
        [class.active-step]="i === getStepIndex(v)"
        (click)="onStepClick(step, v)"
      >
        {{ step }}
      </button>
    </div>

    <!-- applicant & contact -->
    <section class="mt-2">
      <h4>Applicant</h4>
      <p>{{ v.applicantName }} — {{ v.applicantContact }} - {{ v.location }} - {{ v.valuationType }} - {{ v.name }}</p>
    </section>
  </mat-expansion-panel>
</mat-accordion>

<div *ngIf="loading">Loading valuations…</div>
<div *ngIf="error" class="error">{{ error }}</div>

<router-outlet></router-outlet>
